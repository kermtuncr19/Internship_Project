@using Entities.Models
<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

@{
  Layout = "_Layout";
  var activeId = ViewBag.ActiveCategoryId as int?;
  var cats = ViewBag.Categories as IEnumerable<Category>;

  var ctrl = (ViewContext.RouteData.Values["controller"] as string) ?? "";
  var act = (ViewContext.RouteData.Values["action"] as string) ?? "";
  bool isProductIndex = ctrl.Equals("Product", StringComparison.OrdinalIgnoreCase)
  && act.Equals("Index", StringComparison.OrdinalIgnoreCase);
}

<!-- ‚úÖ BANNER: Container DI≈ûINA -->
</div> <!-- container my-3 kapanƒ±yor -->

<section class="fullwidth-banner">
  <div class="banner-carousel">
    <div class="banner-track">
      <!-- Banner 1 - Futbol -->
      <a asp-controller="Product" asp-action="Index" asp-route-categoryId="1" class="banner-item">
        <img src="~/images/banners/banner1.jpg" alt="Futbol √úr√ºnleri" class="banner-image" />
      </a>

      <!-- Banner 2 - Basketbol -->
      <a asp-controller="Product" asp-action="Index" asp-route-categoryId="2" class="banner-item">
        <img src="~/images/banners/banner2.jpg" alt="Basketbol √úr√ºnleri" class="banner-image" />
      </a>

      <!-- Banner 3 - Voleybol -->
      <a asp-controller="Product" asp-action="Index" asp-route-categoryId="3" class="banner-item">
        <img src="~/images/banners/banner3.jpg" alt="Voleybol √úr√ºnleri" class="banner-image" />
      </a>
    </div>

    <!-- Navigation Dots -->
    <div class="banner-dots">
      <span class="dot active" data-index="0"></span>
      <span class="dot" data-index="1"></span>
      <span class="dot" data-index="2"></span>
    </div>
  </div>
</section>

<div class="container my-3"> <!-- container my-3 tekrar a√ßƒ±lƒ±yor -->

  

  

  <!-- üéØ Ana sayfa vitrin √ºr√ºnleri -->
  <div class="my-4">
    @await Component.InvokeAsync("Showcase")
  </div>

  <!-- üîí AVANTAJLAR -->
  <partial name="_HomeBenefits" />

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const track = document.querySelector('.banner-track');
      const dots = document.querySelectorAll('.dot');
      const banners = document.querySelectorAll('.banner-item');
      let currentIndex = 0;
      const totalBanners = banners.length;
      let autoSlideInterval;

      function goToSlide(index) {
        currentIndex = index;
        const offset = -currentIndex * 100;
        track.style.transform = `translateX(${offset}%)`;

        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === currentIndex);
        });
      }

      function nextSlide() {
        currentIndex = (currentIndex + 1) % totalBanners;
        goToSlide(currentIndex);
      }

      function startAutoSlide() {
        autoSlideInterval = setInterval(nextSlide, 4500);
      }

      function stopAutoSlide() {
        clearInterval(autoSlideInterval);
      }

      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          stopAutoSlide();
          goToSlide(index);
          startAutoSlide();
        });
      });

      // Hover durdur/ba≈ülat (desktop)
      track.addEventListener('mouseenter', stopAutoSlide);
      track.addEventListener('mouseleave', startAutoSlide);

      startAutoSlide();
    });
  </script>